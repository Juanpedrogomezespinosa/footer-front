<div class="w-full">
  <h2 class="text-2xl font-semibold text-primary text-center mb-6">
    Accede a tu cuenta
  </h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-5">
    <!-- Email -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
      <input
        type="email"
        formControlName="email"
        placeholder="Introduce tu email"
        class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-secondary focus:border-secondary outline-none transition"
        [class.border-red-500]="
          form.get('email')?.invalid && form.get('email')?.touched
        "
      />
      <div
        *ngIf="form.get('email')?.touched && form.get('email')?.invalid"
        class="mt-1 text-sm text-red-500"
      >
        <span *ngIf="form.get('email')?.errors?.['required']"
          >El email es obligatorio.</span
        >
        <span *ngIf="form.get('email')?.errors?.['email']"
          >Introduce un email válido.</span
        >
      </div>
    </div>

    <!-- Contraseña -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1"
        >Contraseña</label
      >
      <div class="relative">
        <input
          [type]="passwordFieldType"
          formControlName="password"
          placeholder="Introduce tu contraseña"
          class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-secondary focus:border-secondary outline-none transition"
          [class.border-red-500]="
            form.get('password')?.invalid && form.get('password')?.touched
          "
        />
        <button
          type="button"
          (click)="togglePasswordVisibility()"
          class="absolute inset-y-0 right-3 flex items-center"
          [attr.aria-label]="
            passwordFieldType === 'password'
              ? 'Mostrar contraseña'
              : 'Ocultar contraseña'
          "
        >
          <img
            *ngIf="passwordFieldType === 'password'"
            src="assets/icons/ver.svg"
            alt="Mostrar contraseña"
            class="w-5 h-5 opacity-70"
          />
          <img
            *ngIf="passwordFieldType === 'text'"
            src="assets/icons/ocultar.svg"
            alt="Ocultar contraseña"
            class="w-5 h-5 opacity-70"
          />
        </button>
      </div>
      <div
        *ngIf="form.get('password')?.touched && form.get('password')?.invalid"
        class="mt-1 text-sm text-red-500"
      >
        <span *ngIf="form.get('password')?.errors?.['required']"
          >La contraseña es obligatoria.</span
        >
      </div>
    </div>

    <button
      type="submit"
      [disabled]="form.invalid"
      class="w-full py-2 bg-primary text-white rounded-lg font-medium hover:bg-secondary transition disabled:opacity-50"
    >
      Continuar
    </button>

    <div class="text-center text-sm text-gray-600">
      ¿No tienes cuenta?
      <a
        routerLink="/register"
        class="text-secondary hover:underline font-medium"
        >Regístrate</a
      >
    </div>
  </form>
</div>
